<!DOCTYPE html>
<html lang="en">
<head>
    <title>Express</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        body{
            background: hotpink;
            font-family: Comic Sans MS;
            font-size: 22px;
            color: yellow;
        }
        .button{
            margin:10px;
            padding:30px;
            font-size: 28px;
            background-color: lime;
            border:4px dotted blue;
            cursor: grab;
        }
        .content{
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        img{
            border: 10px solid red;
            animation: spin 2s linear infinite;
        }
        @keyframes spin{
            from{transform: rotate(0deg);}
            to {transform: rotate(360deg);}
        }
    </style>
</head>

<body>
    <div id="app">
        <div class="content">
            <h1>Welcome to the Dog Page!</h1>
            <button class="button" @click="fetchDog">Want to see a dog?Click Me</button>
            <img :src="dogImage" alt="image" width="400" v-if="dogImage"/>
            <p v-if="dogImage">
                DOG OF THE DAY:{{ dogName }} is a {{ dogSize }} dog who loves to play.
            </p>
        </div>
    </div>
    <script>
        const { createApp }=Vue;
        createApp({
            data(){
                return{
                    dogImage:'',
                    dogName:'Wrecky',
                    dogSize:'extra-large'
                };
            };
            methods:{
                fetchDog(){
                    fetch('https://dog.ceo/api/breeds/image/random')
                    .then(response =>{
                        if(!response.ok){
                            throw new Error('Network response was not ok');
                        }
                        return response.json();
                    })
                    .then(data=>{
                        console.log('API Response:',data);
                        if(data && data.message){
                            this.dogImage=data.message;
                        }else{
                            console.error('Invalid API response structure')
                        }
                    }).catch(error=>{
                        console.error('Fetch error:',error);
                    });

            }
        }
        }).mount('#app')
    </script>
</body>
</html>